```markdown
# Java 编码规范

## 文件头要求

每个 `.java` 文件顶部必须包含以下格式的文件头注释：
这个注释要在 package import 下面
```java
/**
 * Created by: Arthur Zhu
 * Email: zhushuai.net@gmail.com
 * Date: ${DATE} ${TIME}
 * GitHub: https://github.com/ArthurZhu1992
 *
 * Description:
 * [在此用一句话说明本类/接口的核心职责]
 */
```

- `${DATE}` 格式：`yyyy-MM-dd`（如 `2026-02-05`）
- `${TIME}` 格式：`HH:mm`（24 小时制，如 `11:27`），基于 **UTC+8 时区**
- `Description` 必须简洁明确，不超过两行

---

## 命名规范

| 元素        | 规则                     | 示例                  |
|-------------|--------------------------|-----------------------|
| 类 / 接口   | PascalCase               | `UserRepository`     |
| 方法        | camelCase                | `fetchUserData`      |
| 变量        | camelCase                | `maxRetryCount`      |
| 常量        | UPPER_SNAKE_CASE         | `DEFAULT_TIMEOUT_MS` |
| 包名        | 全小写，点分隔           | `com.example.service`|

---

## 注释规范

注释使用中文

### 类/接口注释
- 使用 Javadoc 风格
- 说明职责、线程安全性、关键设计约束
- 禁止空注释或“TODO”占位（除非明确标注负责人和日期）

### 方法注释
- 所有 public/protected 方法必须有 Javadoc
- 必须包含：
  - `@param`（每个参数）
  - `@return`（非 void 方法）
  - `@throws`（声明 checked 异常或关键 unchecked 异常）
- 描述应聚焦 **意图** 和 **契约**，而非实现细节

### 行内注释
- 仅用于解释 **非显而易见的逻辑**
- 注释前加空行，后不空行
- 禁止注释掉代码（用 Git 管理历史）

---

## 代码风格

- **缩进**：4 个空格（禁止 Tab）
- **行宽**：≤ 120 字符
- **大括号**：K&R 风格（左大括号与语句同行）
  ```java
  if (condition) {
      // ...
  }
  ```
- **空行**：
  - 类成员之间：1 空行
  - 逻辑块之间：1 空行
  - 方法之间：2 空行
- **空格**：
  - 关键字后加空格：`if (x)`, `for (int i = 0; ...)`
  - 操作符两侧加空格：`a = b + c`

---

## 可维护性要求

1. **单一职责**：一个类只负责一个功能领域
2. **无魔法值**：所有常量必须命名（数字、字符串、超时等）
3. **防御性编程**：
   - 公共方法参数必须校验（如 `Objects.requireNonNull()`）
   - 返回集合/数组禁止 null，用空集合代替
4. **资源管理**：必须使用 try-with-resources 或显式 close
5. **异常处理**：
   - 禁止吞异常（`catch { /* ignore */ }`）
   - 记录异常时必须包含上下文信息
6. **依赖注入**：优先构造函数注入，避免字段注入

---

## 禁止事项

- ❌ 使用 `System.out.println()`（用日志框架）
- ❌ 超过 3 层嵌套（if/for/while）
- ❌ 方法超过 50 行（不含注释和空行）
- ❌ 重复代码（>3 行相似逻辑必须提取）
- ❌ 未使用的 import 或变量

> 注：本规范用于指导 AI 生成高质量、可维护、符合工业标准的 Java 代码。

```